{% extends "base.html" %}

{% block title %}Editar Operación - Portal de Operaciones{% endblock %}

{% block content %}
<div class="page-header">
    <h2>Editar Operación #{{ operation.id }}</h2>
</div>

<form method="post" action="{{ url_for('edit_operation', operation_id=operation.id) }}" class="form">
    <div class="form-group">
        <label for="core_id">ID del Núcleo *</label>
        <input type="text" id="core_id" name="core_id" required class="form-control" value="{{ operation.core_id }}">
    </div>

    <div class="form-group">
        <label for="machine_id">ID de la Máquina *</label>
        <input type="text" id="machine_id" name="machine_id" required class="form-control" value="{{ operation.machine_id }}">
    </div>

    <div class="form-group">
        <label for="operator_name">Nombre del Operador *</label>
        <input type="text" id="operator_name" name="operator_name" required class="form-control" value="{{ operation.operator_name }}">
    </div>

    <div class="form-group">
        <label for="scan_date">Fecha de Escaneo *</label>
        <input type="date" id="scan_date" name="scan_date" required class="form-control" value="{{ operation.scan_date.strftime('%Y-%m-%d') }}">
    </div>

    <div class="form-row">
        <div class="form-group">
            <label for="depth_from">Profundidad Desde (m) *</label>
            <input type="number" id="depth_from" name="depth_from" step="0.01" required class="form-control" value="{{ operation.depth_from }}">
        </div>

        <div class="form-group">
            <label for="depth_to">Profundidad Hasta (m) *</label>
            <input type="number" id="depth_to" name="depth_to" step="0.01" required class="form-control" value="{{ operation.depth_to }}">
        </div>
    </div>

    <div class="form-group">
        <label for="notes">Notas</label>
        <textarea id="notes" name="notes" rows="4" class="form-control">{{ operation.notes if operation.notes else '' }}</textarea>
    </div>

    <div class="form-actions">
        <button type="submit" class="btn btn-primary">Guardar Cambios</button>
        <a href="{{ url_for('operation_detail', operation_id=operation.id) }}" class="btn btn-secondary">Cancelar</a>
    </div>
</form>
{% endblock %}
