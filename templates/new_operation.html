{% extends "base.html" %}

{% block title %}Nueva Operación - Portal de Operaciones{% endblock %}

{% block content %}
<div class="page-header">
    <h2>Crear Nueva Operación</h2>
</div>

<form method="post" action="{{ url_for('new_operation') }}" class="form">
    <div class="form-group">
        <label for="core_id">ID del Núcleo *</label>
        <input type="text" id="core_id" name="core_id" required class="form-control" placeholder="Ej: CORE-2026-001">
    </div>

    <div class="form-group">
        <label for="machine_id">ID de la Máquina *</label>
        <input type="text" id="machine_id" name="machine_id" required class="form-control" placeholder="Ej: ORE-MACHINE-01">
    </div>

    <div class="form-group">
        <label for="operator_name">Nombre del Operador *</label>
        <input type="text" id="operator_name" name="operator_name" required class="form-control" placeholder="Ej: Juan Pérez">
    </div>

    <div class="form-group">
        <label for="scan_date">Fecha de Escaneo *</label>
        <input type="date" id="scan_date" name="scan_date" required class="form-control" value="{{ today }}">
    </div>

    <div class="form-row">
        <div class="form-group">
            <label for="depth_from">Profundidad Desde (m) *</label>
            <input type="number" id="depth_from" name="depth_from" step="0.01" required class="form-control" placeholder="0.00">
        </div>

        <div class="form-group">
            <label for="depth_to">Profundidad Hasta (m) *</label>
            <input type="number" id="depth_to" name="depth_to" step="0.01" required class="form-control" placeholder="10.00">
        </div>
    </div>

    <div class="form-group">
        <label for="notes">Notas</label>
        <textarea id="notes" name="notes" rows="4" class="form-control" placeholder="Observaciones adicionales..."></textarea>
    </div>

    <div class="form-actions">
        <button type="submit" class="btn btn-primary">Crear Operación</button>
        <a href="{{ url_for('operations_list') }}" class="btn btn-secondary">Cancelar</a>
    </div>
</form>
{% endblock %}

{% block scripts %}
<script>
    // Establecer fecha actual por defecto
    document.getElementById('scan_date').valueAsDate = new Date();
</script>
{% endblock %}
